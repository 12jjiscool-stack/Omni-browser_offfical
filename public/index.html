<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Omni Browser</title>
  <style>
    :root {
      --bg-color: #0f0f0f;
      --text-color: #fff;
      --card-bg: #1a1a1a;
      --accent: #3a82f7;
      --clock-glow: #3a82f7;
    }
    [data-theme="light"] {
      --bg-color: #ffffff;
      --text-color: #111;
      --card-bg: #f1f1f1;
      --accent: #0078d7;
      --clock-glow: #0078d7;
    }
    [data-theme="dark"] {
      --bg-color: #121212;
      --text-color: #eaeaea;
      --card-bg: #1e1e1e;
      --accent: #bb86fc;
      --clock-glow: #bb86fc;
    }
    [data-theme="night"] {
      --bg-color: #0f0f0f;
      --text-color: #fff;
      --card-bg: #1a1a1a;
      --accent: #3a82f7;
      --clock-glow: #3a82f7;
    }
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      transition: background 0.3s, color 0.3s;
    }
    header {
      text-align: center;
      padding: 20px;
    }
    header h1 {
      font-size: 2.5em;
      margin: 0;
    }
    header p {
      font-size: 1.2em;
      margin: 10px 0;
      color: var(--text-color);
    }
    #clock {
      font-family: monospace;
      font-size: 2.5em;
      margin: 10px 0;
      text-shadow: 0 0 15px var(--clock-glow);
      cursor: pointer;
    }
    .top-bar {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
    }
    .search-container {
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .search-container select,
    .search-container input {
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #444;
      outline: none;
      background: var(--card-bg);
      color: var(--text-color);
    }
    .search-container button {
      padding: 8px 12px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      background: var(--accent);
      color: #fff;
    }
    #profile-bubble {
      margin-left: auto;
      margin-right: 20px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--accent);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      cursor: pointer;
      overflow: hidden;
    }
    #tabs {
      display: flex;
      background: var(--card-bg);
      padding: 5px 10px;
    }
    .tab {
      background: var(--bg-color);
      border: 1px solid #444;
      padding: 5px 10px;
      margin-right: 5px;
      border-radius: 5px 5px 0 0;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .tab.active {
      background: var(--accent);
      color: #fff;
    }
    .tab span.close {
      cursor: pointer;
    }
    .shortcuts {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 20px;
    }
    .shortcut {
      padding: 10px 15px;
      border-radius: 10px;
      background: var(--card-bg);
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .shortcut img {
      width: 20px;
      height: 20px;
    }
    .shortcut:hover {
      transform: scale(1.05);
    }
    .news-feed {
      padding: 20px;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 15px;
    }
    .news-card {
      background: var(--card-bg);
      border-radius: 10px;
      overflow: hidden;
      transition: transform 0.2s;
    }
    .news-card:hover {
      transform: scale(1.03);
    }
    .news-card img {
      width: 100%;
      height: 150px;
      object-fit: cover;
    }
    .news-card div {
      padding: 10px;
    }
    .menu {
      position: absolute;
      top: 60px;
      left: 20px;
      background: var(--card-bg);
      border-radius: 10px;
      padding: 15px;
      display: none;
      flex-direction: column;
      gap: 10px;
      min-width: 180px;
    }
    .menu button {
      background: var(--accent);
      border: none;
      padding: 8px;
      border-radius: 5px;
      color: #fff;
      cursor: pointer;
    }
    #menu-btn {
      padding: 8px 12px;
      border: none;
      border-radius: 5px;
      background: var(--accent);
      color: #fff;
      cursor: pointer;
    }
    /* Calculator modal */
    #calc-modal {
      display: none;
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: var(--card-bg);
      padding: 15px;
      border-radius: 10px;
      z-index: 1000;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
    }
    #calc-modal.dragging {
      opacity: 0.8;
      cursor: move;
    }
    #calc-display {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border: none;
      border-radius: 5px;
      text-align: right;
      font-size: 1.2em;
      background: var(--bg-color);
      color: var(--text-color);
    }
    .calc-buttons {
      display: grid;
      grid-template-columns: repeat(5, 50px);
      gap: 5px;
    }
    .calc-buttons button {
      padding: 10px;
      font-size: 1em;
      border: none;
      border-radius: 5px;
      background: var(--accent);
      color: #fff;
      cursor: pointer;
    }
  </style>
</head>
<body data-theme="night">
  <header>
    <h1>Omni</h1>
    <p>A multi-tool search engine that will be safe for you, and generations to come</p>
    <div id="clock" title=""></div>
  </header>

  <div class="top-bar">
    <button id="menu-btn">â˜°</button>
    <div class="search-container">
      <select id="engine">
        <option value="https://www.google.com/search?q=">Google</option>
        <option value="https://www.bing.com/search?q=">Bing</option>
        <option value="https://search.yahoo.com/search?p=">Yahoo</option>
      </select>
      <input type="text" id="search" placeholder="Search the web..."/>
      <button id="search-btn">Search</button>
      <button id="dice-btn">ðŸŽ²</button>
    </div>
    <div id="profile-bubble">U</div>
  </div>

  <div id="tabs">
    <div class="tab active">New Tab <span class="close">x</span></div>
  </div>

  <div class="shortcuts">
    <div class="shortcut" onclick="openInNewTab('https://mail.google.com')">
      <img src="https://cdn4.iconfinder.com/data/icons/logos-brands-in-colors/48/google-gmail-256.png"/> Gmail
    </div>
    <div class="shortcut" onclick="openInNewTab('https://youtube.com')">
      <img src="https://cdn4.iconfinder.com/data/icons/logos-and-brands/512/395_Youtube_logo-256.png"/> YouTube
    </div>
    <div class="shortcut" onclick="openInNewTab('https://chat.openai.com')">
      <img src="https://cdn3.iconfinder.com/data/icons/social-media-brands-1/128/chat-gpt-256.png"/> ChatGPT
    </div>
    <div class="shortcut" onclick="alert('Add Shortcut placeholder')">âž• Add Shortcut</div>
  </div>

  <div class="news-feed" id="news-feed"></div>

  <div class="menu" id="menu">
    <button onclick="signIn()">Sign In</button>
    <button onclick="toggleNews()">Hide News Feed</button>
    <button onclick="clearData()">Clean Data</button>
    <button onclick="window.open('https://github.com/12jjiscool-stack/Omni-browser_offfical')">Current GitHub</button>
    <button onclick="openCalc()">Math Solver</button>
    <button onclick="toggleThemes()">Themes</button>
  </div>

  <div id="calc-modal">
    <input type="text" id="calc-display" disabled />
    <div class="calc-buttons">
      <button>(</button><button>)</button><button>%</button><button>CE</button><button>C</button>
      <button>7</button><button>8</button><button>9</button><button>/</button><button>^</button>
      <button>4</button><button>5</button><button>6</button><button>*</button><button>âˆš</button>
      <button>1</button><button>2</button><button>3</button><button>-</button><button>Ï€</button>
      <button>0</button><button>.</button><button>=</button><button>+</button><button>e</button>
    </div>
  </div>

  <script>
    // Clock
    function updateClock() {
      const now = new Date();
      const time = now.toLocaleTimeString();
      const date = now.toDateString();
      const clock = document.getElementById('clock');
      clock.textContent = time;
      clock.title = date;
    }
    setInterval(updateClock, 1000);
    updateClock();

    // Search
    document.getElementById('search-btn').onclick = () => {
      const engine = document.getElementById('engine').value;
      const query = document.getElementById('search').value;
      if(query) openInNewTab(engine + encodeURIComponent(query));
    };

    // Dice
    document.getElementById('dice-btn').onclick = () => {
      const sites = ["https://pbskids.org", "https://youtube.com", "https://coolmathgames.com"];
      const choice = sites[Math.floor(Math.random()*sites.length)];
      openInNewTab(choice);
    };

    // Tabs
    function openInNewTab(url) {
      const tab = document.createElement('div');
      tab.className = "tab active";
      tab.innerHTML = url + ' <span class="close">x</span>';
      document.getElementById('tabs').appendChild(tab);
      tab.querySelector(".close").onclick = () => tab.remove();
      window.open(url, '_blank');
    }

    // Menu toggle
    document.getElementById('menu-btn').onclick = () => {
      const menu = document.getElementById('menu');
      menu.style.display = menu.style.display === "flex" ? "none" : "flex";
    };

    // News feed (dummy CNN preview)
    async function loadNews() {
      const newsFeed = document.getElementById('news-feed');
      newsFeed.innerHTML = "";
      const sample = [
        {title:"CNN Headline 1", img:"https://via.placeholder.com/400x200", url:"https://cnn.com"},
        {title:"CNN Headline 2", img:"https://via.placeholder.com/400x200", url:"https://cnn.com"},
        {title:"CNN Headline 3", img:"https://via.placeholder.com/400x200", url:"https://cnn.com"}
      ];
      sample.forEach(n=>{
        const card = document.createElement('div');
        card.className="news-card";
        card.innerHTML=`<img src="${n.img}"><div><a href="${n.url}" target="_blank">${n.title}</a></div>`;
        newsFeed.appendChild(card);
      });
    }
    loadNews();
    setInterval(loadNews, 300000);

    function toggleNews() {
      const feed = document.getElementById('news-feed');
      if(feed.style.display === "none"){ feed.style.display="grid"; }
      else{ feed.style.display="none"; }
    }
    function clearData(){ localStorage.clear(); alert("Data cleared!"); }

    // Calculator
    function openCalc(){
      const modal=document.getElementById('calc-modal');
      modal.style.display="block";
      modal.style.top="50%"; modal.style.left="50%"; modal.style.transform="translate(-50%,-50%)";
    }
    const calcModal=document.getElementById('calc-modal');
    let isDragging=false,offsetX,offsetY;
    calcModal.addEventListener('mousedown',e=>{
      isDragging=true;
      offsetX=e.clientX-calcModal.offsetLeft;
      offsetY=e.clientY-calcModal.offsetTop;
      calcModal.classList.add('dragging');
    });
    document.addEventListener('mouseup',()=>{isDragging=false;calcModal.classList.remove('dragging');});
    document.addEventListener('mousemove',e=>{
      if(isDragging){
        calcModal.style.left=(e.clientX-offsetX)+"px";
        calcModal.style.top=(e.clientY-offsetY)+"px";
        calcModal.style.transform="";
      }
    });
  </script>
</body>
</html>

